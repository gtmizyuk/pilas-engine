<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="" >
  <head>
    <meta charset="utf-8" />
    <meta name="generator" content="pandoc" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
          <title>Для розробників</title>
    <style>
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
      div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
      ul.task-list{list-style: none;}
    </style>
        <link rel="stylesheet" href="estilo.css" />
        <script src="./manual.js" charset="utf-8"></script>
      <div class="tc navegacion">
  <a href="index.html">Повернутися до змісту</a>
</div> 
  </head>
  <body>
         <header id="title-block-header">
      <h1 class="title">Для розробників</h1>
            </header>
      <p>Якщо ви розробник і хочете скопіювати повне середовище для редагування коду Pilas Engine, ми рекомендуємо низку кроків, щоб це реалізувати.</p>
<p>Незважаючи на те, що це дуже детальний розділ підручника з використання Pilas Engine, ви можете поставити будь-які запитання щодо нього на форумі (<a href="https://foro.pilas-engine.com.ar/" target="_blank">https://foro.pilas-engine.com.ar</a>), щоб ми могли покращити підручник.</p>
<h2 id="qué-software-se-utiliza-internamente-en-pilas">Яке програмне забезпечення використовується всередині Pilas?</h2>
<p>Для створення Pilas ми в основному використовуємо JavaScript разом із кількома фреймворками та іншими інструментами. Найважливіші з них:</p>
<ul>
<li><strong>Phaser</strong>: Це мультимедійна бібліотека, яку ми використовуємо для малювання ігрового простору. Phaser дозволяє нам завантажувати зображення, малювати їх на екрані, відтворювати звуки, виявляти зіткнення, виконувати фізичне моделювання тощо.</li>
<li><strong>ember-js</strong>: Це вебфреймворк, який ми використовуємо для створення візуальної структури та взаємодії застосунку; містить компоненти, маршрути, контролери та плагіни. Ember також дозволяє нам запакувати всю програму та опублікувати її в Інтернеті.</li>
<li><strong>TypeScript</strong>: Ми використовуємо його як початковий код механізму Pilas. Механізм Pilas відповідає за оголошення всіх існуючих акторів, це місце, де живе структура сцени, і де інкапсулюються всі виклики Phaser.</li>
<li><strong>Pandoc</strong>: Це інструмент, який ми використовуємо для створення піжручника з Pilas Engine. Pandoc перетворює markdown-файли на файли .html для відкриття з Інтернету у вебпереглядачі.</li>
<li><strong>Electron</strong>: Він використовується для упаковки повної вебпрограми та розповсюдження її у бінарному форматі як виконуваний файл, який можна використовувати офлайн.</li>
</ul>
<h3 id="estructura-de-directorios">Структура каталогу</h3>
<p>Це основні файли репозиторію та функції, які вони виконують:</p>
<table>
<colgroup>
<col style="width: 3%" />
<col style="width: 96%" />
</colgroup>
<thead>
<tr class="header">
<th>Каталог</th>
<th>Для чого він використовується?</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>api_docs</td>
<td>Зберігає результат автоматичного документування. Якщо ви виконаєте "make api", ви побачите, як запускається код Pilas Engine і генерується ця документація.</td>
</tr>
<tr class="even">
<td><strong>app</strong></td>
<td>Це важливий каталог, тут міститься весь початковий код застосунку, створеного за допомогою Ember. Всередині знаходяться шаблони, контролери, компоненти та маршрути. Далі в цьому підручнику ми розповімо, як редагувати файли в цьому каталозі. Але загалом, за допомогою "make ejecutar" або "make compilar" ви можете викликати Ember, щоб перетворити весь каталог на вебзастосунок.</td>
</tr>
<tr class="odd">
<td><strong>manual</strong></td>
<td>Містить повний посібник з Pilas Engine у markdown-форматі. Ви можете редагувати вміст будь-яким текстовим редактором, а щоб конвертувати його в .html і переглядати у застосунку, потрібно виконати команду "make pilas_manual".</td>
</tr>
<tr class="even">
<td><strong>pilas-engine</strong></td>
<td>Містить початковий код механізму Pilas Engine. Код створено за допомогою сценарію TypeScript, тому для його компіляції вам потрібно виконати команду "make compilar_pilas" або «make compilar_pilas_live» для автоматичного внесенння змін.</td>
</tr>
<tr class="odd">
<td><strong>public</strong></td>
<td>Зберігає всі файли, які будуть обслуговуватися з програми за допомогою emberjs. Наприклад, зображення, джерела та звуки. Але крім того, цей каталог також оновлюється іншими командами. Наприклад, коли ми компілюємо код у каталозі <em>pilas-engine</em> за допомогою команди "make compilar_pilas", згенерований файл копіюється до каталогу "public".</td>
</tr>
<tr class="even">
<td><strong>tests</strong></td>
<td>Ці тести виконуються, коли викликається команда "make test" або коли виконується "make ejecutar", а потім вводиться http://localhost:4200/tests. Крім того, вони виконуються дистанційно кожного разу, коли здійснюється надсилання до репозиторію. Далі в цьому документі описано, як тести працюють у структурі проєкту.</td>
</tr>
</tbody>
</table>
<h2 id="repositorio-y-modelo-de-trabajo">Репозиторій і робоча модель</h2>
<p>Перш ніж почати, вам потрібно встановити NodeJS 8 і менеджер пакунків "yarn".</p>
<p>Якщо ви хочете переконатися, що все встановлено правильно, напишіть наступні команди:</p>
<pre><code>npm install -g yarn
node -v</code></pre>
<p>Повний код Pilas зберігається на Github у репозиторії:</p>
<ul>
<li>https://github.com/pilas-engine/pilas-engine</li>
</ul>
<p>Ми рекомендуємо вам запустити розгалуження сховища (створити форк), перш ніж продовжити, тут є інструкції щодо розгалуження репозиторію: https://help.github.com/articles/fork-a-repo/</p>
<p>Після розгалуження клонуйте репозиторій за допомогою цих команд і встановіть залежності проєкту:</p>
<pre><code>make iniciar</code></pre>
<p>Ви повинні побачити, що всі залежності встановлюються всередині каталогу "node_modules". Це може зайняти кілька хвилин:</p>
<p><img src="imagenes/assets/instalar.png" /></p>
<p>Після завершення встановлення залежностей ви можете виконати команду "make". Коли ви її виконаєте, на екрані з’являться всі покликання, які ми використовуємо в рамках проєкту:</p>
<p><img src="imagenes/assets/make-1597532.png" /></p>
<p>Очевидно, що в більшості випадків ми використовуємо лише кілька команд, але ми завжди оновлюватимемо цей список, щоб спростити розробку.</p>
<p>Щоб запустити вебсервер Ember, ви можете виконати цю команду:</p>
<pre><code>make ejecutar</code></pre>
<p>і відкрити цю адресу у вебпереглядачі: http://localhost:4200</p>
<p><img src="imagenes/assets/navegador.png" /></p>
<p>Зверніть увагу, що вебсервер Ember буде реагувати щоразу, коли ви змінюєте код у файлах. Відповідно, зміни будуть автоматично відображатися у вебпереглядачі.</p>
<h2 id="estilo-de-programación">Стиль програмування</h2>
<p>Ми рекомендуємо вам писати код іспанською мовою (😜), коли це можливо (😎), і ті змінні або методи, які мають кілька слів, ми спробуємо записати їх як "nombre_del_metodo" замість "nombreDelMetodo".</p>
<p>Крім того, дуже важливо, щоб ваш редактор був налаштований на автоматичне використання Prettier (<a href="https://prettier.io/" class="uri">https://prettier.io/</a>).</p>
<h2 id="tests">Тести</h2>
<p>Проєкт включає тести. Тести зберігаються в каталозі "tests", і кожен з них призначений для забезпечення роботи певної функції.</p>
<p>Наприклад, файл <code>tests/acceptance/puede-ingresar-al-editor-test.js</code> відповідає за імітацію поведінки користувача, який входить у застосунок та починає взаємодіяти з інтерфейсом.</p>
<p>Кожен оператор у файлі намагається імітувати дію користувача та супроводжується деякою перевіркою:</p>
<p><img src="imagenes/assets/pilas-engine%202018-03-20%2023-44-00.png" /></p>
<p>Так, ми впевнені, що зможемо перевірити роботу усіх інструментів автоматизовано. Це дозволяє нам виявляти помилки та дає нам впевненість у реструктуризації або покращенні внутрішніх частин застосунку, знаючи, які функції можуть працювати некоректно.</p>
<p>Якщо ви запустите команду "make ejecutar" і відкриєте програму у вебпереглядачі за адресою "http://localhost:4200", ви також зможете запустити тести безпосередньо у вебпереглядачі.</p>
<p>Вам потрібно буде ввести адресу: "http://localhost:4200/tests":</p>
<p><img src="imagenes/assets/PilasEngine%20Tests%202018-03-20%2023-48-34.png" /></p>
<p>На зображенні позначено дві опції, які є дуже корисними. Перша запобігає заповненню екрана деталями добре виконаних тестів, а друга є просто естетичною: вона використовується, щоб побачити, як тести виглядають візуально.</p>
<h2 id="automatización-e-integración-contínua">Автоматизація та безперервна інтеграція</h2>
<p>Є кілька завдань, які виконуються автоматично кожного разу, коли ми надсилаємо до сховища GitHub.</p>
<p>Наприклад, кожного разу, коли на github виконується push, служба під назвою "circle-ci" відповідає за виконання всіх тестів проєкту з нуля.</p>
<p>Ця служба не лише запускає тести, але й сповіщає нас електронною поштою, якщо будь-який із тестів не пройшов або виникли проблеми на будь-якому етапі інсталяції. Служба також генерує список історії, щоб перевірити, чи вносились зміни про якийсь тип помилки:</p>
<p><img src="imagenes/assets/CircleCI%202018-03-20%2023-53-29.png" /></p>
<p>Ми також використовуємо "circle-ci" щоразу, коли робимо стабільний випуск, щоб створювати бінарні файли та вебверсії ігрового рушія.</p>
<p>Ми використовуємо тег, щоб позначити, що Pilas можна публікувати. Теги будуть виявлені Circle CI для створення бінарних файлів і завантаження оновленої версії ігрового рушія в Інтернет.</p>
<p><img src="imagenes/assets/pilas-engine%202018-03-20%2023-56-30.png" />Наприклад, на зображенні ви бачите тег версії v2.0.25. Коли це сталося, "circle-ci" згенерував ці файли, щоб версія була скомпільована та доступна для завантаження звідси:</p>
<p><img src="imagenes/assets/pilas-engine%202018-03-21%2000-00-56.png" /></p>
<p>Хоча ці кроки є автоматичними, усі деталі того, що потрібно виконати, містяться у файлі <code>.circleci/config.yml</code>.</p>  <div class="tc navegacion">
  <div>
    <a href="#" onclick="document.documentElement.scrollTo(0, 0);">Нагору</a>
  </div>

  <div>
    <a href="index.html">Повернутися до змісту</a>
  </div>
</div> 
  </body>
</html>
